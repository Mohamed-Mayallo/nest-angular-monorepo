@let currentUser = currentUser$ | async;

<mat-toolbar class="header">
  <span>Hello {{ currentUser?.name }}</span>

  <div class="header-right">
    <button
      (click)="openCreateModal()"
      matTooltip="Create post"
      mat-icon-button
    >
      <mat-icon>add</mat-icon>
    </button>

    <button (click)="logout()" matTooltip="Logout" mat-icon-button>
      <mat-icon color="warn">logout</mat-icon>
    </button>
  </div>
</mat-toolbar>

@if (posts$ | async; as posts) {
<div class="posts-wrapper">
  <div class="posts-container">
    @if (posts.length) {
    <div class="posts-grid">
      @for (post of posts; track post._id) {
      <mat-card appearance="outlined">
        <mat-card-header>
          <mat-card-title>{{ post.title }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>{{ post.content }}</p>
        </mat-card-content>
      </mat-card>
      }
    </div>
    } @else {
    <p>No posts!</p>
    }
  </div>
</div>
}
